Index: src/pages/addingNewUserPage/contacts/Contacts.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport classNames from 'classnames'\r\nimport { push } from 'connected-react-router'\r\nimport {\r\n  Field, formValueSelector, reduxForm, FieldArray,\r\n} from 'redux-form'\r\nimport styles from '../../../components/userFormBox/UserFormBox.scss'\r\nimport { saveNewUserData } from '../../../actions/actionNewUser'\r\nimport FieldSelectContacts from '../../../components/fieldForm/fieldSelectContacts/FieldSelectContacts'\r\nimport FieldInputNewUser from '../../../components/fieldForm/fieldInputNewUser/FieldInputNewUser'\r\nimport UserFormBox from '../../../components/userFormBox/UserFormBox'\r\nimport FieldArrayPhone from '../../../components/fieldForm/fieldArrayPhone/FieldArrayPhone'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nclass Contacts extends Component {\r\n  backContacts = () => {\r\n    const {\r\n      saveNewUserData, companyForm, githubLinkForm, facebookLinkForm, selectLanguageForm, faxForm, phoneArrayForm, push,\r\n    } = this.props\r\n    push('/profile')\r\n    saveNewUserData({\r\n      company: companyForm,\r\n      githubLink: githubLinkForm,\r\n      facebookLink: facebookLinkForm,\r\n      selectLanguage: selectLanguageForm,\r\n      fax: faxForm,\r\n      phoneArray: phoneArrayForm,\r\n    })\r\n  }\r\n\r\n  onSubmit = values => {\r\n    const { saveNewUserData, push } = this.props\r\n    push('/capabilities')\r\n    saveNewUserData({\r\n      company: values.company,\r\n      githubLink: values.githubLink,\r\n      facebookLink: values.facebookLink,\r\n      selectLanguage: values.selectLanguage,\r\n      fax: values.fax,\r\n      phoneArray: values.phoneArray,\r\n      contactsFilled: true,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { handleSubmit } = this.props\r\n    return (\r\n      <UserFormBox handleSubmit={handleSubmit(this.onSubmit)}>\r\n        <div className={cx('userFormBox__sideLeft')}>\r\n          <Field\r\n            component={FieldInputNewUser}\r\n            type='text'\r\n            label='Company'\r\n            name='company'\r\n            idField='fieldCompany'\r\n            classNameLabel='inputNewUser'\r\n          />\r\n          <Field\r\n            component={FieldInputNewUser}\r\n            type='text'\r\n            span\r\n            label='Github link'\r\n            name='githubLink'\r\n            idField='fieldGithubLink'\r\n            classNameLabel='inputNewUser'\r\n          />\r\n          <Field\r\n            component={FieldInputNewUser}\r\n            type='text'\r\n            span\r\n            label='Facebook link'\r\n            name='facebookLink'\r\n            placeholder='www.facebook.com/hdfk_142_23lelf/'\r\n            idField='fieldFacebookLink'\r\n            classNameLabel='inputNewUser'\r\n          />\r\n          <Field\r\n            component={FieldSelectContacts}\r\n            name='selectLanguage'\r\n            label='Main language'\r\n          />\r\n        </div>\r\n        <div className={cx('userFormBox__sideRight')}>\r\n          <Field\r\n            component={FieldInputNewUser}\r\n            type='text'\r\n            label='Fax'\r\n            name='fax'\r\n            mask='+7 (999) 999-99-99'\r\n            idField='fieldFax'\r\n            classNameLabel='inputNewUser'\r\n          />\r\n          <FieldArray\r\n            component={FieldArrayPhone}\r\n            name='phoneArray'\r\n          />\r\n          <div className={cx('userFormBox__addPhone')} />\r\n          <div className={cx('userFormBox__wrapperButton')}>\r\n            <button type='button' onClick={this.backContacts} className={cx('userFormBox__back')}>Back</button>\r\n            <button type='submit' className={cx('userFormBox__forward')}>Forward</button>\r\n          </div>\r\n        </div>\r\n      </UserFormBox>\r\n    )\r\n  }\r\n}\r\n\r\nContacts.propTypes = {\r\n  companyForm: PropTypes.string,\r\n  githubLinkForm: PropTypes.string,\r\n  facebookLinkForm: PropTypes.string,\r\n  selectLanguageForm: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.object,\r\n  ]),\r\n  faxForm: PropTypes.string,\r\n  phoneArrayForm: PropTypes.array,\r\n  saveNewUserData: PropTypes.func.isRequired,\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  push: PropTypes.func.isRequired,\r\n}\r\n\r\nconst ContactsForm = reduxForm({\r\n  validate: values => {\r\n    const errors = {}\r\n    if (!values.selectLanguage) {\r\n      errors.selectLanguage = 'Missing Main language'\r\n    }\r\n\r\n    if (!values.company) {\r\n      errors.company = 'Missing Company'\r\n    } else if (values.company.length <= 2) {\r\n      errors.company = 'Must be 3 characters or more'\r\n    }\r\n\r\n    if (!values.githubLink) {\r\n      errors.githubLink = 'Missing Github Link'\r\n    } else if (values.githubLink.length <= 5) {\r\n      errors.githubLink = 'Must be 4 characters or more'\r\n    }\r\n\r\n    if (!values.facebookLink) {\r\n      errors.facebookLink = 'Missing Facebook Link'\r\n    } else if (values.facebookLink.length <= 5) {\r\n      errors.facebookLink = 'Must be 4 characters or more'\r\n    }\r\n\r\n    if (!values.fax) {\r\n      errors.fax = 'Missing Facebook Fax'\r\n    } else {\r\n      errors.fax = values.fax.charAt(17) >= 0 ? null : 'Must be 10 digits'\r\n    }\r\n\r\n    if (!values.phoneN1) {\r\n      errors.phoneN1 = 'Missing Phone Number'\r\n    } else {\r\n      errors.phoneN1 = values.phoneN1.charAt(17) >= 0 ? null : 'Must be 10 digits'\r\n    }\r\n\r\n    if (!values.phoneN2) {\r\n      errors.phoneN2 = 'Missing Phone Number'\r\n    } else {\r\n      errors.phoneN2 = values.phoneN2.charAt(17) >= 0 ? null : 'Must be 10 digits'\r\n    }\r\n    if (!values.phoneN3) {\r\n      errors.phoneN3 = 'Missing Phone Number'\r\n    } else {\r\n      errors.phoneN3 = values.phoneN3.charAt(17) >= 0 ? null : 'Must be 10 digits'\r\n    }\r\n\r\n    return errors\r\n  },\r\n  form: 'Contacts',\r\n  enableReinitialize: true,\r\n})(Contacts)\r\n\r\nconst mapStateToProps = state => {\r\n  const selector = formValueSelector('Contacts')\r\n  const companyForm = selector(state, 'company')\r\n  const githubLinkForm = selector(state, 'githubLink')\r\n  const facebookLinkForm = selector(state, 'facebookLink')\r\n  const selectLanguageForm = selector(state, 'selectLanguage')\r\n  const faxForm = selector(state, 'fax')\r\n  const phoneArrayForm = selector(state, 'phoneArray')\r\n  const {\r\n    company, githubLink, facebookLink, selectLanguage, fax, phoneArray,\r\n  } = state.newUser\r\n  return {\r\n    initialValues: {\r\n      company, githubLink, facebookLink, selectLanguage, fax, phoneArray,\r\n    },\r\n    companyForm,\r\n    githubLinkForm,\r\n    facebookLinkForm,\r\n    selectLanguageForm,\r\n    phoneArray,\r\n    faxForm,\r\n    phoneArrayForm,\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { saveNewUserData, push },\r\n)(ContactsForm)\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/pages/addingNewUserPage/contacts/Contacts.js	(revision 7c8a68445d4a7ead4ff59ae82830b8108cae852a)
+++ src/pages/addingNewUserPage/contacts/Contacts.js	(date 1558905149146)
@@ -154,6 +154,9 @@
       errors.fax = values.fax.charAt(17) >= 0 ? null : 'Must be 10 digits'
     }
 
+    if (!values.phoneArray || !values.phoneArray.length) {
+      errors.members = { _error: 'At least one member must be entered' }
+    }
     if (!values.phoneN1) {
       errors.phoneN1 = 'Missing Phone Number'
     } else {
